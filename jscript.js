var homewords = ['petya','worm','spyware','adware','not<br />petya','golden<br />eye','german<br />wiper','syrk','ddos','ent-<br />scrypt','rogue<br />ss','wanna<br />cry','love<br />bug','trojan','hijacker','ransom<br />ware','key<br />loggers','rootkit','netsky','spy<br />eye','crypto<br />locker','tha<br />natos'];

window.onload = function () {
    var anim = document.getElementById('malwords');
    anim.addEventListener('animationiteration', nextWord);
    document.getElementById("bgvid").playbackRate = 0.8;
}

document.addEventListener ('DOMContentLoaded', (event) => {
    this.document.getElementById("malwords").innerHTML = homewords[wordrand()];
    document.getElementById("malwords").style.animation = "malwordsfade 4s 999";
})

window.addEventListener ("scroll", function(){
    if(window.scrollY<=0){
        this.document.getElementById("backtotop").style.visibility = "hidden";
        this.document.getElementById("header").style.backgroundColor = "transparent";
        this.document.getElementById("header").style.animation = "";
        this.document.getElementById("backtotop").style.animation = "";
        this.document.getElementById("headerlogo").style.visibility = "hidden";
        this.document.getElementById("header").style.boxShadow = "none";
    }

    if(window.scrollY<=550) {
        this.document.getElementById("mascotandwords").style.visibility = "visible";
        this.document.getElementById("homeiconsdiv").style.visibility = "hidden";
    }

    if(window.scrollY>550){
        this.document.getElementById("backtotop").style.animation = "backtotop-up 0.5s 1";
        this.document.getElementById("backtotop").style.visibility = "visible";
        this.document.getElementById("header").style.position = "fixed";
        this.document.getElementById("headerlogo").style.visibility = "visible";
        this.document.getElementById("header").style.boxShadow = "5px 2px 2px 0 gray"; //h-offset v-offset blur spread color
        this.document.getElementById("header").style.animation = "navdown 0.5s 1";
        this.document.getElementById("header").style.backgroundColor = "white";
        this.document.getElementById("mascotandwords").style.visibility = "hidden";
    }

    if((window.scrollY<1800) && (window.scrollY>550)){
        this.document.getElementById("homeiconsdiv").style.visibility = "visible";
        this.document.getElementById("homeicons").src = "img/home1.png";
    }

    if((window.screenY<3200) && (window.scrollY>1800)){
        this.document.getElementById("homeicons").src = "img/home2.png";
    }

    if((window.screenY<4000) && (window.scrollY>3200)){
        this.document.getElementById("homeicons").src = "img/home3.png";
    }
})

function wordrand() {
    var x = Math.floor(Math.random()*homewords.length);
    return x;
}

function isInViewPort(element) {
    const {top, bottom} = element.getBoundingClientRec();
    const vHeight = (window.innerHeight || document.documentElement.clientHeight);

    return (
        (top > 0 || bottom > 0) && top < vHeight
    );
}

function nextWord() {
    var nextword = homewords[wordrand()];
    this.innerHTML = nextword;
}
